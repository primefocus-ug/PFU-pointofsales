{% extends "dashboard/base.html" %}
{% load i18n %}
{% load widget_tweaks %}


{% block content %}
<div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold">{{ title }}</h1>
    <a href="{% url 'supplier_add' %}" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
        {% trans "Add Supplier" %}
    </a>
</div>

<form method="get" action="" class="mb-4 flex gap-2">
    <input type="text" name="q" placeholder="{% trans 'Search Suppliers' %}" value="{{ search }}"
           class="border rounded px-3 py-2 w-full" />
    <button type="submit" class="px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-800">
        {% trans "Search" %}
    </button>
</form>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    {% for s in suppliers %}
        <div class="border rounded-lg p-4 shadow hover:shadow-md transition">
            <h2 class="text-lg font-semibold">{{ s.name }}</h2>
            <p class="text-sm text-gray-500">{{ s.phone }}</p>
            <p class="mt-2 text-sm">
                {% trans "Active" %}: 
                <span class="{% if s.is_active %}text-green-600{% else %}text-red-600{% endif %}">
                    {{ s.is_active|yesno:"✔,✘" }}
                </span>
            </p>
            <div class="mt-3">
                <a href="{% url 'supplier_edit' s.pk %}" class="text-blue-600 hover:underline">
                    {% trans "Edit" %}
                </a>
            </div>
        </div>
    {% empty %}
        <p class="text-gray-500">{% trans "No Suppliers found" %}</p>
    {% endfor %}
</div>
{% endblock %}
